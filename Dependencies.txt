# Install dependencies

conda install -c conda-forge -c bioconda prinseq-plus-plus

conda install -c conda-forge -c bioconda bbmap

conda install -c conda-forge -c bioconda star

# Reference Genome

## Homo sapiens: Genome assembly GRCh38.p14

### Downloading and unzipping reference genome

curl -OJX GET "https://api.ncbi.nlm.nih.gov/datasets/v2alpha/genome/accession/GCF_000001405.40/download?include_annotation_type=GENOME_FASTA,GENOME_GFF,RNA_FASTA,CDS_FASTA,PROT_FASTA,SEQUENCE_REPORT&filename=GCF_000001405.40.zip" -H "Accept: application/zip"

unzip GCF_000001405.40.zip

rm GCF_000001405.40.zip

cd ncbi_dataset/data/GCF_000001405.40

### Building STAR index for reference genome

#### Reformating GFF annotation to GTF format

gffread genomic.gff -T -o genomic.gtf

STAR --runMode genomeGenerate --runThreadN 16 --genomeDir ./STAR --genomeFastaFiles /labs/csbig/gerardo/genomes/human/ncbi_dataset/data/GCF_000001405.40/GCF_000001405.40_GRCh38.p14_genomic.fna --sjdbGTFfile /labs/csbig/gerardo/genomes/human/ncbi_dataset/data/GCF_000001405.40/genomic.gtf --sjdbOverhang 150